# 網站工程師常用的編碼、雜湊與加密技術

> **版本**：2025-05-16

---

## 1. 編碼（Encoding）

| 名稱           | 用途                                           | 範例                                                 |
|--------------|----------------------------------------------|----------------------------------------------------|
| **UTF‑8**      | 網頁文字的標準字元集                              | `"é"` → `0xC3 0xA9`                                |
| **URL Encode** | 把 URL 中的特殊字元轉成 `%XX` 格式                | `" "` → `%20` 、`"漢"` → `%E6%BC%A2`               |
| **Base64**     | 二進位資料（圖片、BLOB）→可見字串                  | `SGVsbG8gV29ybGQh` → `"Hello World!"`              |
| **Hex**        | 二進位→16 進位文字                               | `0xDE 0xAD 0xBE 0xEF` → `"DEADBEEF"`               |
| **JSON**       | 結構化資料交換格式                               | `{"name":"Alice","age":30}`                       |
| **XML**        | 傳統的結構化資料交換格式                          | `<user name="Alice" age="30"/>`                   |

---

## 2. 雜湊（Hashing）

### 2.1 單向雜湊函式 (One‑Way Hash)

| 演算法       | 特性                                 | 用途                       |
|------------|------------------------------------|--------------------------|
| **MD5**     | 128-bit、速度快，但已不安全            | 檔案完整性檢查 (非安全)     |
| **SHA‑1**   | 160-bit，已被碰撞攻擊示範             | 舊系統相容                  |
| **SHA‑2**   | 一族 (SHA‑224/256/384/512)，目前常用   | 資料完整性、密碼雜湊         |
| **SHA‑3**   | 新一代標準                          | 高安全性需求                |

### 2.2 密碼專用雜湊 (Password Hash)

| 演算法         | 特性                                     | 用途                 |
|--------------|----------------------------------------|--------------------|
| **bcrypt**    | 基於 Blowfish，支援 Cost Factor             | 密碼儲存           |
| **scrypt**    | 記憶體與計算成本調整，對抗 ASIC/GPU 攻擊      | 高安全性密碼儲存    |
| **Argon2**    | 密碼雜湊競賽冠軍，支援 計算/記憶體/並行度 調整 | 最佳密碼雜湊選擇    |

---

## 3. 加密（Encryption）

### 3.1 對稱式加密 (Symmetric Encryption)

| 演算法        | 密鑰長度      | 特性                         | 用途                     |
|-------------|-------------|----------------------------|------------------------|
| **AES**      | 128/192/256  | 業界標準，高效能              | 資料加密傳輸與儲存（HTTPS、檔案加密） |
| **DES / 3DES** | 56 / 112/168 | 已較不安全 (3DES 尚可用)      | 舊系統相容               |
| **ChaCha20** | 256         | 高效能於軟體實作，對抗側通道攻擊 | 行動裝置、IoT 裝置加密      |

### 3.2 非對稱式加密 (Asymmetric Encryption)

| 演算法      | 密鑰長度         | 特性                        | 用途                        |
|-----------|----------------|---------------------------|---------------------------|
| **RSA**    | 2048/3072/4096  | 廣泛支援，速度較慢            | 憑證簽章、金鑰交換、少量資料加解密 |
| **ECDSA / ECDH** | 256/384/521-bit ECC | 同等安全性下鍵長更短，速度更快 | TLS 握手、數位簽章、鑰匙交換     |

---

## 4. 訊息認證碼（MAC / HMAC）

| 演算法         | 特性                                | 用途                     |
|--------------|-----------------------------------|------------------------|
| **HMAC‑SHA256** | 基於 SHA‑256 的 HMAC，抗碰撞與側通道 | 驗證訊息完整性與來源      |
| **CMAC**       | 基於區塊密碼（如 AES）的 MAC          | 金鑰導向的資料完整性檢查  |

---

## 5. TLS / HTTPS

- **TLS 握手流程**  
  1. ClientHello → ServerHello + 憑證  
  2. 驗證憑證 → 產生 Pre‑Master Secret  
  3. 交換 Finished → 建立對稱金鑰加密通道  

- **常見協議版本**：TLS 1.2（仍廣泛使用）、TLS 1.3（效能更佳、安全性更高）

---

## 6. 常見開發實作範例

### 6.1 .NET Core：產生 HMAC‑SHA256

```csharp
using System.Security.Cryptography;
using System.Text;

string message = "Hello World";
string key     = "supersecretkey";
using var hmac = new HMACSHA256(Encoding.UTF8.GetBytes(key));
byte[] hashBytes = hmac.ComputeHash(Encoding.UTF8.GetBytes(message));
string signature = Convert.ToBase64String(hashBytes);
